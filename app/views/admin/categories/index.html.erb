<div class="container">
  <h1>List of Restaurnat Categories</h1>
    <div>
     <%= link_to 'Restaurant', admin_restaurants_path, :style=>'color: #000000'%> |
     <%= link_to 'Categories', admin_categories_path, :style=>'color: #000000' %>
    </div>
    <br>
<!-- [:admin, @category] :admin 是 namespace 的路徑。 -->
<!--在 index 頁面上新增一個表單,可以輸入Category Name，點選Create Categroy按鈕後會產生新的Category -->
    <div class="form-inline">
      <%= form_for [:admin,@category] do |f| %>
       <div class="form-group">
         <%=f.text_field :name, placeholder:"Enter category Name", class:"form-control"%>
       </div>
         <%=f.submit class: "btn btn-primary" %>
         <% if @category.errors.any? %>
           <%= @category.errors.full_messages.to_sentence %>
         <% end %>
      <% end %>
    </div>
    <br>

<!--上面寫的 f.submit class: "btn btn-primary" -->
<!--在資料新增(create)失敗時，我們想給使用者提示-->
<!--當model資料驗證不通過時，會將資料退回，將訊息塞進errors method中-->
<!--model會去解釋這個資料發生什麼問題-->

<!--@category.errors.messages 拿到錯誤資料說明(hash型態); -->
<!--@category.errors.full_messages.to_sentence 把messages內容變成(陣列)再變成(字串)-->

    <div class="row">
      <div class="col-md-12">
        <table class="table table-striped table-bordered">
          <thread> <%#thread標籤為表格頭部%>
            <tr><%#table row%>
              <th>#</th> <%#table head%>
              <th>Category Name</th>
              <th>Action</th>
            </tr>
          </thread>

          <tbody> <%#tbody標籤為表格主體內容%>
             <% @categories.each do |category| %>
             <tr>
               <th scope="row"><%= category.id %></th>
               <td><%= category.name%></td>
               <!-- 因為我們只有index.html.erb，所以這裡的edit我們加上params[:id]到url裡 -->
+              <!-- index 就能判斷是edit or new，而印出對應的form表單 -->
               <td><%= link_to 'Edit', admin_categories_path(id: category.id) %>
                   <%= link_to 'Destroy',admin_category_path(category), method: :delete, data:{ confirm: "Are you sure?"} %></td>
             </tr>
             <% end %>
          </tbody>

        </table>
    </div>
  </div>

<!--# link_to 'Edit'  會有admin_categories_path 這一行會是複數的原因是因為他是導回到index頁面-->
<!--#(承上)希望在點擊下去的時候，能把 category 的 id 拿回來做使用，所以會有 id: category.id 這段-->

</div>
